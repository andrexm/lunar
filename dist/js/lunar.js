(()=>{"use strict";class LunarElement{pure;constructor(e){this.pure="object"!=typeof e?document.querySelector(e):e}get type(){return this.pure.nodeName.toLowerCase()}get id(){return this.pure.id}html(e=null){if(!e)return this.pure.innerHTML;this.pure.innerHTML=e}text(e=null){if(!e)return this.pure.textContent;this.pure.textContent=e}attr(e,t=null){return t?(this.pure.setAttribute(e,t),this):this.pure.getAttribute(e)}hasAttr(){let e=!0;return Array.from(arguments).forEach((t=>{e=e&&this.pure.hasAttribute(t)})),e}removeAttr(e){return this.pure.removeAttribute(e),this}matches(e){return this.pure.matches(e)}event(e,t){this.pure.addEventListener(e,(e=>{t(e)}))}get width(){return this.pure.clientWidth}get height(){return this.pure.clientHeight}toggle(){return lunar.toggle(this),this}appear(e=null){return e?this.pure.scrollIntoView(e):this.pure.scrollIntoView(),this}click(){return this.pure.click(),this}parent(e=1){let t=this.pure;do{t=t.parentElement,e--}while(e>0);return lunar.el(t)}get nodes(){return this.pure.childNodes}get children(){let e=Array.from(this.pure.children),t=[];return e.forEach((e=>{t=[...t,lunar.el(e)]})),t}get firstEl(){return lunar.el(this.pure.firstElementChild)}get lastEl(){return lunar.el(this.pure.lastElementChild)}get firstNode(){return this.pure.firstChild}get lastNode(){return this.pure.lastChild}sibling(e=1){let t=this.pure;if(e>0)do{t=t.nextSibling,e--}while(e>0);if(e<0)do{t=t.previousSibling,e++}while(e<0);return t instanceof Element?lunar.el(t):t}after(){return lunar.iterate(Array.from(arguments),(e=>{this.pure.after(e)})),this}before(){return lunar.iterate(Array.from(arguments),(e=>{this.pure.before(e)})),this}append(){return lunar.iterate(Array.from(arguments),(e=>{this.pure.append(e)})),this}prepend(){return lunar.iterate(Array.from(arguments),(e=>{this.pure.prepend(e)})),this}el(e){return lunar.el(this.pure.querySelector(e))}all(e,t=!1){let s=Array.from(this.pure.querySelectorAll(e));if(t)return s;let r=[];return s.forEach((e=>{r=[...r,lunar.el(e)]})),r}contains(e){return e=lunar.isPure(e)?e:e.pure,this.pure.contains(e)}hasClass(e){return this.pure.classList.contains(e)}addClass(e){return this.pure.classList.add(e),this}removeClass(e){return this.pure.classList.remove(e),this}toggleClass(){return Array.from(arguments).forEach((e=>{this.pure.classList.toggle(e)})),this}get classList(){return this.pure.classList}}const e=[{name:"date",action(e,t){let s=new Date(1e3*Number(t)),r=s.getUTCDate(),i=Number(s.getMonth())+1;return Number(r)<10&&(r="0"+r),String(i)<10&&(i="0"+i),r+"/"+i+"/"+s.getUTCFullYear()}},{name:"hour",action(e,t){let s=new Date(Number(t));return s.getUTCHours()+":"+s.getUTCMinutes()}},{name:"percent",action:(e,t,s)=>(t=String(100*Number(t)),s.length>0&&(t=t.replace(".",s[0])),t+"%")}],t={showElement(e,t=!0){e.style.transition="0.3s",t?(e.classList.remove("lunar-hidden"),setTimeout((()=>{e.classList.remove("lunar-opacity-0")}),0)):(e.classList.add("lunar-opacity-0"),e.style.transition="0.3s",setTimeout((()=>e.classList.add("lunar-hidden")),300))},hideableElementsStart(){this.hideable=Array.from(document.querySelectorAll("[hideable]")),this.hideable.forEach((e=>{e.classList.contains("l-hes")||(e.classList.add("lunar-hidden"),e.classList.add("lunar-opacity-0"),e.classList.add("l-hes"))}))},hideControllersStart(){this.hideControllers=Array.from(document.querySelectorAll("[data-toggle]")),this.hideControllers.forEach((e=>{e.classList.contains("l-shc")||(e.addEventListener("click",(()=>{let t=new LunarElement(e.dataset.toggle).pure,s=t.classList.contains("lunar-hidden");this.showElement(t,s),this.clickOutside(t,(s=>{let r=Array.from(document.querySelectorAll(`[data-toggle='${e.dataset.toggle}']`)),i=!1;r.forEach((e=>{i=i||s.target===e||e.contains(s.target)})),i||this.showElement(t,!1)}))})),e.classList.add("l-shc"))}))},clickOutside(e,t){e.classList.contains("rcoutside")||(e.classList.add("rcoutside"),document.addEventListener("click",(s=>{e.contains(s.target)||e===s.target||t(s)})))},hideOnLeave(){Array.from(document.querySelectorAll("[hideOnMouseLeave]")).forEach((e=>{e.classList.contains("l-shol")||(e.setAttribute("tabindex","0"),e.addEventListener("mouseleave",(()=>{this.showElement(e,!1)})),e.classList.add("l-shol"))}))},hideOnClickOutside(){Array.from(document.querySelectorAll("[hideOnClickOutside]")).forEach((e=>{e.classList.contains("l-hoco")||(e.setAttribute("tabindex","0"),document.addEventListener("click",(t=>{e.parentNode.contains(t.target)||e===document.activeElement||e.contains(document.activeElement)||e.classList.contains("lunar-hidden")||this.showElement(e,!1)})),e.classList.add("l-hoco"))}))},dynamicLinks(){Array.from(document.querySelectorAll("[link]")).forEach((e=>{e.classList.contains("l-dl")||(e.style.cursor="pointer",e.addEventListener("click",(()=>{location.href=e.getAttribute("link")})),e.classList.add("l-dl"))}))},loadModifiers(t){let s=Array.from(document.querySelectorAll("[mod]")),r=t??e;s.forEach((e=>{if(e.classList.contains("l-mod"))return;let t=e.getAttribute("mod").split("|");t.splice(0,1);let s=r.find((t=>t.name==e.getAttribute("mod").split("|")[0]));s&&(e.innerHTML=s.action(e,e.textContent,t),e.classList.add("l-mod"))}))}};class Store{state={};storeName="lunarStore";constructor(){this.startState()}startState(){let e=localStorage.getItem(this.storeName)??"{}";e=JSON.parse(e),this.state=e}save(e,t){this.state[e]=t,localStorage.setItem(this.storeName,JSON.stringify(this.state))}remove(e){delete this.state[e],localStorage.setItem(this.storeName,JSON.stringify(this.state))}get(e){return this.state[e]}}class Ajax{#e;#t=!1;#s;#r={method:"GET",url:"",headers:{},data:{},beforeSend:()=>{},success:()=>{},error:()=>{}};constructor(e){this.#i(e),this.#e=new XMLHttpRequest,this.#r=e,"method"in this.#r?this.#s=this.#r.method.toUpperCase():this.#s="GET"}send(){this.#n(),this.#e.open(this.#s,this.#r.url),this.#a(),this.#e.send(this.#r.data||null)}#n(){this.#e.onreadystatechange=()=>{if(this.#t||(this.#t=!0,"beforeSend"in this.#r&&this.#r.beforeSend(this.#e)),4===this.#e.readyState){if(200===this.#e.status&&"success"in this.#r)return this.#r.success(this.#e.response,this.#e.status,this.#e);if("error"in this.#r)return this.#r.error()}}}#a(){if("headers"in this.#r){Object.keys(this.#r.headers).forEach((e=>{this.#e.setRequestHeader(e,this.#r.headers[e])}))}}#i(e){return"url"in e||console.error("Error: please, set an URL."),!1}}class Loader extends HTMLElement{static get observedAttributes(){return["color"]}constructor(){super()}attributeChangedCallback(e,t,s){let r=s.split(",");this.style.borderColor=r[0]??"#f3f3f3",this.style.borderTopColor=r[1]??"#3498db"}}class LnLazy extends HTMLElement{#l;#o;loaded=()=>{};constructor(){super(),this.style.paddingTop="400px",this.#l=!1,this.#o=this.getBoundingClientRect().top+window.scrollY,this.start(window.innerHeight>=this.getBoundingClientRect().top)}#h(e){if(this.#l)return!1;if(window.scrollY+window.innerHeight+Number(this.getAttribute("dis")??400)>=this.#o||e){let e=this.getAttribute("src");lunar.ajax({method:"GET",url:e,headers:{"X-Requested-With":"XMLHttpRequest"},success:e=>{this.innerHTML=e,this.#l=!0,lunar.loadHelpers(),this.loaded()},error:()=>{console.error("The component "+e+" cannot be #isLoaded."),this.#l=!0}}).send(),this.style.paddingTop="0px"}return!1}start(e){if(e)return this.#h(e),!1;document.addEventListener("scroll",(()=>{this.#h(e)}))}}window.lunar=new class Lunar{modifiers=[];store;custom=[];constructor(){this.store=new Store,this.loadHelpers(),window.addEventListener("load",(()=>{let e=lunar.el("ln-back-loader");e&&e.toggle()}))}isPure(e){return!(e instanceof LunarElement)}iterate(e,t){e.forEach((e=>{e=lunar.isPure(e)?e:e.pure,t(e)}))}el(e){let t=new LunarElement(e);return t.pure?t:null}all(e,t=!1){let s=Array.from(document.querySelectorAll(e));if(t)return s;let r=[];return s.forEach((e=>{r=[...r,new LunarElement(e)]})),r}create(e){let t=document.createElement(e);return this.el(t)}hide(e){return this.isPure(e)?t.showElement(e,!1):t.showElement(e.pure,!1)}show(e){return this.isPure(e)?t.showElement(e):t.showElement(e.pure)}appear(e,t=null){return lunar.el(e).appear(t)}toggle(){Array.from(arguments).forEach((e=>{let t=this.isPure(e)?e:e.pure;t.classList.contains("lunar-hidden")?this.show(t):this.hide(t)}))}clickOut(e,s){t.clickOutside(this.isPure(e)?e:e.pure,s)}register(e,t=!0){e.forEach((e=>{t&&(this.custom=[...this.custom,e]),Array.from(document.querySelectorAll(e.selector)).forEach((t=>{if(t.innerHTML=e.html,t.dataset.class){let e=t.firstElementChild;t.dataset.class.split(" ").forEach((t=>{e.classList.add(t)}))}}))})),this.loadHelpers()}registerMods(e){this.modifiers=[...this.modifiers,...e],t.loadModifiers(this.modifiers)}loadHelpers(){t.hideControllersStart(),t.hideableElementsStart(),t.hideOnLeave(),t.dynamicLinks(),t.hideOnClickOutside(),t.loadModifiers(),t.loadModifiers(this.modifiers)}loadUtils(){this.register(this.custom,!1)}ajax(e){return new Ajax(e)}},customElements.define("ln-loader",Loader),customElements.define("ln-lazy",LnLazy)})();